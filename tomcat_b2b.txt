local_web_patches/META_INF/context.xml -> data sources
H2  -mysql- Jar in tomcat sap_libs

web.xml -> env-entry for sys.global.dir

DataBase schemas in /home/thibautc/SAP/sapcd/PATCHES_SP\'s/2007/SP03/SAPCRMDIC12_0-10002941.SCA
Ie: /home/thibautc/SAP/sapcd/PATCHES_SP's/2007/SP03/SAPCRMDIC12_0-10002941.SCA/DEPLOYARCHIVES/crm~tc~schedulerpersistence.sda//dbtables/CRM_ISA_SCHDJOB.gdbtable

fan netColarSapWebshop::SapCrmDicToSql /home/thibautc/SAP/sapcd/PATCHES_SP\'s/2007/SP03/SAPCRMDIC12_0-10002941.SCA > dic.sql
mkdir /home/thibautc/apps/sap_tomcat-6.0.20/db

java -cp /home/thibautc/apps/sap_tomcat-6.0.20/sap_libs/h2-1.3.148.jar org.h2.tools.RunScript -url jdbc:h2:/home/thibautc/apps/sap_tomcat-6.0.20/db/sapb2c -user sa -script dic.sql


Use h2 console:
java -jar /home/thibautc/apps/sap_tomcat-6.0.20/sap_libs/h2-1.3.148.jar
Url: jdbc:h2:~/apps/sap_tomcat-6.0.20/db/sapb2c



The given connection "org.h2.jdbc.JdbcConnection" is not an Open SQL connection

Install mysql
sudo apt-get install mysql-client mysql-server (set a root password)

Create a SAP B2C database and user
mysql -u root -p
> create database sapb2c;
> grant usage on *.* to sapb2c@localhost identified by 'password';
> grant all privileges on sapb2c.* to sapb2c@localhost ;
>exit

Log into it:
mysql -u sapb2c -p'password' sapb2c
> source ~/dic.sql
> exit

sudo apt-get install libmysql-java
cp /usr/share/java/mysql-connector-java-5.1.10.jar /home/thibautc/apps/sap_tomcat-6.0.20/sap_libs/

http://tomcat.apache.org/tomcat-4.1-doc/printer/jndi-datasource-examples-howto.html#MySQL%20DBCP%20Example

Could not load class com.sap.dictionary.database.catalog.XmlCatalogReader -> need jddi.jar
java.lang.NoClassDefFoundError: antlr/ANTLRException -> need antlr.jar

cp ./build/web/WEB-INF/lib/opensqlsta.jar /home/thibautc/apps/sap_tomcat-6.0.20/sap_libs -> needed eraly on otherwise get a classnotfound error during tomcat startup

Can ignore(it does that no matter what): WARN  com.sap.isa.core.eai.sp.jco.JCoConnectionStateless [] - Error occcurred in EAI layer "Cannot connect to backend system. com.sap.isa.core.eai.BackendException: user missing. parameters: [client]='null' [user]='null' [language]='null' [ashost]='null' [systemnumber]='null' [mshost]='null' [gwhost]='null' [gwserv]='null' [group]='null' [systemid]='null' 
Properties: {client=100, sysnr=01, ashost=bighorn.pcf.com, lang=en, codepage=1100}
